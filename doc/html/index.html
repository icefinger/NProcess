<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Amoeba: NProcess</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Amoeba
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">NProcess </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>A pthread base multi-threading library</p>
<h2>Principle</h2>
<p>The idea of this library is to use the polymorphism of the object oriented c++ to make it easier and more coherent way to do multi-threading. The object to be multi-threaded has to inherit from the NProcess::Object and will benefit of two virtual methods Process and Run. The process is used for series calculus, as many thread as object and can be launched more than once. The run is use for asynchronous processes.</p>
<h2>Compile</h2>
<p>The NProcess library does not have any dependencies, and use c++11 standards. So just do: </p><pre class="fragment">mkdir build
cd build
cmake ..
make
</pre><h2>Basic how to use</h2>
<h3>Parallel basic process</h3>
<p>First of all you have to inherit the class you want to be multithreaded: </p><pre class="fragment">class heritis : public icedcode::NProcess::Object {
public:
  heritis () {}
  ~heritis () {}
protected:
  void Run () {} //useless, just keep it empty
  void Process () {
    unsigned seed1 = std::chrono::system_clock::now().time_since_epoch().count();
    cout &lt;&lt; "running process " &lt;&lt; GetProcessId()&lt;&lt; endl;
    std::default_random_engine generator;
    std::uniform_real_distribution&lt;double&gt; distribution(0.0,1.0);
    generator.seed (seed1);
    size_t max = 50000000*distribution(generator);
    for (size_t i=0;i&lt;max;i++)
        a_result+=generator ();
  }

public:
  double a_result=0;
};
</pre><p>and then create as many processes as objects: </p><pre class="fragment">int main()
{
  {
    cout&lt;&lt;  "you have "&lt;&lt;icedcode::NProcess::GetIt()-&gt;GetNbProc()&lt;&lt;" processor."&lt;&lt;endl;
    heritis h[100];
    icedcode::NProcess::GetIt()-&gt;ProcessAll();
    cout &lt;&lt; "after processall" &lt;&lt; endl;
    for (size_t i=0; i&lt;100; i++)
      cout &lt;&lt; h[i].GetProcessId () &lt;&lt; " "&lt;&lt;h[i].a_result &lt;&lt; endl;
  }
  return 0;
} </pre> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
